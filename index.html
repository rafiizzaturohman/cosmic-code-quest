<!DOCTYPE html>
<html lang="id" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cosmic Code Quest</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/_sdk/element_sdk.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&amp;family=Exo+2:wght@300;400;500;600;700;800&amp;display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./resources/css/app.css" />
  </head>
  <body class="h-full overflow-auto">
    <div
      id="app"
      class="min-h-screen relative overflow-hidden"
      style="
        background: linear-gradient(
          135deg,
          #0a0118 0%,
          #1a0b2e 50%,
          #2d1b4e 100%
        );
      "
    >
      <!-- Stars Background -->
      <div
        id="stars-container"
        class="absolute inset-0 overflow-hidden pointer-events-none"
      ></div>
      <!-- Start Screen -->
      <div
        id="start-screen"
        class="relative z-10 min-h-full flex flex-col items-center justify-center p-4"
      >
        <div class="floating mb-6">
          <div class="text-7xl mb-4">ğŸš€</div>
        </div>
        <h1
          id="main-title"
          class="font-title text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-r from-violet-400 via-fuchsia-400 to-cyan-400 mb-4 text-center"
        >
          Cosmic Code Quest
        </h1>
        <p class="text-violet-300 text-lg md:text-xl mb-8 text-center max-w-lg">
          ğŸŒŒ Petualangan Multi-Dunia Menguasai HTML &amp; CSS
        </p>
        <div
          class="bg-slate-900/90 backdrop-blur-xl rounded-2xl p-6 md:p-8 w-full max-w-md border border-violet-500/30 shadow-2xl mb-6"
        >
          <h2 class="font-title text-xl text-violet-300 mb-6 text-center">
            ğŸ‘¥ Pilih Jumlah Pemain
          </h2>
          <div class="flex justify-center gap-3 mb-6">
            <button
              onclick="setPlayerCount(2)"
              class="player-count-btn w-16 h-16 rounded-xl bg-slate-800 border-2 border-violet-500/50 text-violet-300 font-bold text-2xl hover:bg-violet-600 hover:border-violet-400 transition-all"
              data-count="2"
            >
              2
            </button>
            <button
              onclick="setPlayerCount(3)"
              class="player-count-btn w-16 h-16 rounded-xl bg-slate-800 border-2 border-violet-500/50 text-violet-300 font-bold text-2xl hover:bg-violet-600 hover:border-violet-400 transition-all"
              data-count="3"
            >
              3
            </button>
            <button
              onclick="setPlayerCount(4)"
              class="player-count-btn w-16 h-16 rounded-xl bg-slate-800 border-2 border-violet-500/50 text-violet-300 font-bold text-2xl hover:bg-violet-600 hover:border-violet-400 transition-all"
              data-count="4"
            >
              4
            </button>
          </div>
          <div id="player-inputs" class="space-y-3 mb-6"></div>
          <button
            onclick="showSkillSelection()"
            class="glow-button w-full py-4 rounded-xl bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-bold text-lg hover:from-violet-500 hover:to-indigo-500 transition-all transform hover:scale-105"
          >
            âš¡ Pilih Skill &amp; Mulai
          </button>
        </div>
      </div>
      <!-- Skill Selection Screen -->
      <div id="skill-screen" class="relative z-10 min-h-full hidden p-4">
        <div class="max-w-4xl mx-auto">
          <h2
            class="font-title text-3xl md:text-4xl text-center text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-cyan-400 mb-2"
          >
            ğŸ¯ Pilih Skill Pemain
          </h2>
          <p class="text-center text-violet-300 mb-8">
            Setiap pemain memilih kemampuan khusus
          </p>
          <div id="skill-selection-container" class="space-y-6"></div>
          <button
            onclick="startGameWithSkills()"
            class="w-full max-w-md mx-auto block mt-8 py-4 rounded-xl bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-bold text-lg hover:from-emerald-500 hover:to-teal-500 transition-all"
          >
            ğŸš€ Mulai Petualangan
          </button>
        </div>
      </div>
      <!-- World Selection Screen -->
      <div id="world-screen" class="relative z-10 min-h-full hidden p-4">
        <div class="max-w-5xl mx-auto">
          <h2
            class="font-title text-3xl md:text-4xl text-center text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-cyan-400 mb-2"
          >
            ğŸŒ Pilih Dunia
          </h2>
          <p class="text-center text-violet-300 mb-8">
            Selesaikan setiap dunia untuk unlock yang berikutnya!
          </p>
          <div
            id="world-selection-container"
            class="grid md:grid-cols-3 gap-4"
          ></div>
        </div>
      </div>
      <!-- Game Screen -->
      <div id="game-screen" class="relative z-10 min-h-full hidden p-2 md:p-4">
        <!-- Game Header -->
        <div
          class="bg-slate-900/90 backdrop-blur-xl rounded-xl p-3 md:p-4 mb-3 border border-violet-500/30"
        >
          <div class="flex flex-wrap items-center justify-between gap-2">
            <div>
              <h1
                id="game-title-display"
                class="font-title text-lg md:text-2xl text-violet-300"
              >
                Cosmic Code Quest
              </h1>
              <p
                id="world-name-display"
                class="text-xs md:text-sm text-cyan-400"
              >
                ğŸŒ HTML Galaxy
              </p>
            </div>
            <div class="flex items-center gap-4 text-sm md:text-base">
              <span class="text-violet-400"
                >Ronde:
                <span id="round-display" class="text-white font-bold">1</span
                >/<span id="max-round-display">15</span></span
              >
              <button
                onclick="backToWorldSelect()"
                class="px-3 py-1 rounded-lg bg-red-600/50 text-red-200 hover:bg-red-600 transition-all text-sm"
              >
                ğŸ  Dunia
              </button>
            </div>
          </div>
        </div>
        <!-- Main Game Area -->
        <div class="flex flex-col lg:flex-row gap-3">
          <!-- Game Board -->
          <div class="flex-1">
            <div
              class="bg-slate-900/80 backdrop-blur-xl rounded-xl p-3 md:p-4 border border-violet-500/30"
            >
              <div
                id="game-board"
                class="grid grid-cols-7 gap-1 md:gap-2 aspect-square max-w-2xl mx-auto"
              ></div>
            </div>
          </div>
          <!-- Side Panel -->
          <div class="lg:w-80 space-y-3">
            <!-- Current Player & Dice -->
            <div
              class="bg-slate-900/90 backdrop-blur-xl rounded-xl p-4 border border-violet-500/30"
            >
              <div class="text-center mb-3">
                <p class="text-violet-400 text-sm mb-1">Giliran</p>
                <p
                  id="current-player-name"
                  class="font-title text-xl text-white"
                >
                  -
                </p>
                <p id="player-skill-display" class="text-xs text-cyan-400 mt-1">
                  -
                </p>
                <div id="combo-display" class="hidden mt-2">
                  <span
                    class="combo-badge inline-block px-3 py-1 rounded-full bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs font-bold"
                  >
                    ğŸ”¥ Combo <span id="combo-count">0</span>x
                  </span>
                </div>
              </div>
              <!-- Dice Selection -->
              <div id="dice-selection" class="mb-4">
                <p class="text-violet-300 text-xs text-center mb-2">
                  Pilih Dadu:
                </p>
                <div class="grid grid-cols-3 gap-2">
                  <button
                    onclick="selectDiceType('normal')"
                    class="dice-type-btn px-2 py-2 rounded-lg bg-slate-800 border-2 border-violet-500/50 text-xs text-white hover:bg-violet-600/30 transition-all"
                    data-type="normal"
                  >
                    ğŸ² Normal<br /><span class="text-[10px] text-violet-300"
                      >1-6</span
                    >
                  </button>
                  <button
                    onclick="selectDiceType('smart')"
                    class="dice-type-btn px-2 py-2 rounded-lg bg-slate-800 border-2 border-violet-500/50 text-xs text-white hover:bg-violet-600/30 transition-all"
                    data-type="smart"
                  >
                    ğŸ¯ Smart<br /><span class="text-[10px] text-violet-300"
                      >Reroll 1</span
                    >
                  </button>
                  <button
                    onclick="selectDiceType('risk')"
                    class="dice-type-btn px-2 py-2 rounded-lg bg-slate-800 border-2 border-violet-500/50 text-xs text-white hover:bg-violet-600/30 transition-all"
                    data-type="risk"
                  >
                    ğŸ’€ Risk<br /><span class="text-[10px] text-violet-300"
                      >1-8</span
                    >
                  </button>
                </div>
              </div>
              <!-- Dice -->
              <div class="flex justify-center mb-4">
                <div
                  id="dice"
                  class="w-20 h-20 bg-gradient-to-br from-white to-gray-200 rounded-2xl flex items-center justify-center text-4xl font-black text-slate-800 shadow-xl cursor-pointer hover:scale-110 transition-transform"
                  onclick="rollDice()"
                >
                  ğŸ²
                </div>
              </div>
              <button
                id="roll-btn"
                onclick="rollDice()"
                class="w-full py-3 rounded-xl bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-bold hover:from-emerald-500 hover:to-teal-500 transition-all"
              >
                ğŸ² Lempar Dadu
              </button>
              <button
                id="next-turn-btn"
                onclick="nextTurn()"
                class="w-full py-3 rounded-xl bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-bold hover:from-violet-500 hover:to-indigo-500 transition-all mt-2 hidden"
              >
                â¡ï¸ Giliran Selanjutnya
              </button>
              <!-- Power-ups -->
              <div id="powerups-display" class="mt-3 space-y-1 text-xs"></div>
            </div>
            <!-- Player Scores -->
            <div
              class="bg-slate-900/90 backdrop-blur-xl rounded-xl p-4 border border-violet-500/30"
            >
              <h3 class="font-title text-violet-300 text-sm mb-3">
                ğŸ† Skor Pemain
              </h3>
              <div id="player-scores" class="space-y-2"></div>
            </div>
            <!-- Game Log -->
            <div
              class="bg-slate-900/90 backdrop-blur-xl rounded-xl p-4 border border-violet-500/30 max-h-48 overflow-y-auto"
            >
              <h3 class="font-title text-violet-300 text-sm mb-3">
                ğŸ“œ Log Permainan
              </h3>
              <div
                id="game-log"
                class="space-y-1 text-xs text-violet-300/80"
              ></div>
            </div>
          </div>
        </div>
      </div>
      <!-- Question Modal -->
      <div
        id="question-modal"
        class="fixed inset-0 z-50 hidden items-center justify-center p-4 modal-overlay bg-black/80"
      >
        <div
          class="bg-slate-900/95 backdrop-blur-xl rounded-2xl p-6 md:p-8 w-full max-w-2xl border border-violet-500/50 shadow-2xl transform scale-95 opacity-0 transition-all duration-300"
          id="question-content"
        >
          <div class="text-center mb-6">
            <div class="text-6xl mb-3" id="question-emoji">ğŸ”®</div>
            <h2
              class="font-title text-2xl md:text-3xl text-violet-300"
              id="question-title"
            >
              Tantangan Kode!
            </h2>
            <p class="text-violet-400/70 text-sm mt-2" id="question-subtitle">
              -
            </p>
            <div id="timer-display" class="hidden mt-3">
              <span
                class="inline-block px-4 py-2 rounded-full bg-red-600/50 text-white font-bold text-lg"
              >
                â±ï¸ <span id="timer-count">10</span>s
              </span>
            </div>
          </div>
          <div id="question-container"></div>
        </div>
      </div>
      <!-- Event Modal -->
      <div
        id="event-modal"
        class="fixed inset-0 z-50 hidden items-center justify-center p-4 modal-overlay bg-black/80"
      >
        <div
          class="bg-slate-900/95 backdrop-blur-xl rounded-2xl p-6 md:p-8 w-full max-w-lg border border-pink-500/50 shadow-2xl text-center"
        >
          <div class="text-6xl mb-4" id="event-emoji">ğŸŒŸ</div>
          <h2 class="font-title text-2xl text-pink-300 mb-3" id="event-title">
            Space Event!
          </h2>
          <p class="text-violet-200 text-lg mb-6" id="event-description">-</p>
          <button
            onclick="closeEventModal()"
            class="px-6 py-3 rounded-xl bg-gradient-to-r from-pink-600 to-purple-600 text-white font-bold hover:from-pink-500 hover:to-purple-500 transition-all"
          >
            Lanjutkan ğŸ‘
          </button>
        </div>
      </div>
      <!-- Boss Modal -->
      <div
        id="boss-modal"
        class="fixed inset-0 z-50 hidden items-center justify-center p-4 modal-overlay bg-black/90"
      >
        <div
          class="bg-slate-900/95 backdrop-blur-xl rounded-2xl p-6 md:p-8 w-full max-w-2xl border-4 border-red-500/70 shadow-2xl"
        >
          <div class="text-center mb-6">
            <div class="text-7xl mb-4">ğŸ‘¾</div>
            <h2 class="font-title text-3xl text-red-400 mb-2">
              BOSS CHALLENGE!
            </h2>
            <p class="text-violet-300" id="boss-subtitle">
              Kalahkan boss untuk unlock dunia berikutnya!
            </p>
          </div>
          <div id="boss-question-container"></div>
        </div>
      </div>
      <!-- World Complete Modal -->
      <div
        id="world-complete-modal"
        class="fixed inset-0 z-50 hidden items-center justify-center p-4 modal-overlay bg-black/80"
      >
        <div
          class="bg-slate-900/95 backdrop-blur-xl rounded-2xl p-6 md:p-8 w-full max-w-lg border border-emerald-500/50 shadow-2xl text-center"
        >
          <div class="text-7xl mb-4">ğŸŠ</div>
          <h2
            class="font-title text-3xl text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400 mb-3"
          >
            Dunia Diselesaikan!
          </h2>
          <div id="world-complete-content" class="mb-6"></div>
          <div class="flex gap-3">
            <button
              onclick="backToWorldSelect()"
              class="flex-1 py-3 rounded-xl bg-violet-600 text-white font-bold hover:bg-violet-500 transition-all"
            >
              ğŸŒ Pilih Dunia
            </button>
            <button
              onclick="nextWorld()"
              id="next-world-btn"
              class="flex-1 py-3 rounded-xl bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-bold hover:from-emerald-500 hover:to-teal-500 transition-all"
            >
              â¡ï¸ Dunia Berikutnya
            </button>
          </div>
        </div>
      </div>
      <!-- Game Over Modal -->
      <div
        id="gameover-modal"
        class="fixed inset-0 z-50 hidden items-center justify-center p-4 modal-overlay bg-black/80"
      >
        <div
          class="bg-slate-900/95 backdrop-blur-xl rounded-2xl p-6 md:p-8 w-full max-w-2xl border border-violet-500/50 shadow-2xl text-center max-h-[90%] overflow-y-auto"
        >
          <div class="text-7xl mb-4">ğŸ†</div>
          <h2
            class="font-title text-4xl text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-yellow-300 mb-4"
          >
            Game Selesai!
          </h2>
          <div id="winner-display" class="my-6"></div>
          <div
            id="statistics-display"
            class="bg-slate-800/50 rounded-xl p-6 mb-6"
          ></div>
          <button
            onclick="restartGame()"
            class="w-full py-4 rounded-xl bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-bold text-lg hover:from-violet-500 hover:to-indigo-500 transition-all"
          >
            ğŸ”„ Main Lagi
          </button>
        </div>
      </div>
      <!-- Footer Copyright -->
      <footer
        class="fixed bottom-0 left-0 w-full z-10 py-4 md:py-6 border-t border-violet-500/20 bg-slate-900/50 backdrop-blur-sm flex justify-center"
      >
        <p
          class="text-violet-300/60 text-xs md:text-sm font-medium text-center"
        >
          Â© 2026 <span class="text-violet-400 font-bold">Gluoin Code</span>. All
          rights reserved.
        </p>
      </footer>
    </div>
    <script src="./resources/js/app.js"></script>
  </body>
</html>
